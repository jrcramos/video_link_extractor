<!DOCTYPE html>
<html>
<head>
  <title>Video Link Extractor</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      width: 550px;
      padding: 10px;
      color: #333;
    }
    h1 {
      font-size: 18px;
      margin-top: 0;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }
    #controls {
        display: flex;
        justify-content: flex-end;
        padding-bottom: 10px;
    }
    #clearButton {
        padding: 5px 10px;
        cursor: pointer;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
        border-radius: 4px;
    }
    #links-container {
      max-height: 400px;
      overflow-y: auto;
    }
    .link-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 4px;
      border-bottom: 1px solid #eee;
    }
    /* --- CORRECTED --- */
    .link-item a {
      color: #0066cc;
      text-decoration: none;
      flex-grow: 1;
      margin-right: 10px;
      white-space: nowrap;      /* Prevents the link itself from wrapping */
      overflow: hidden;         /* Hides the part of the link that overflows */
      text-overflow: ellipsis;  /* Adds "..." to the end of a truncated link */
      min-width: 0;             /* Essential for flexbox truncation */
    }
    .link-item a:hover { text-decoration: underline; }
    /* --- CORRECTED --- */
    .copy-btn {
      padding: 4px 10px;
      cursor: pointer;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      border-radius: 4px;
      font-size: 12px;
      flex-shrink: 0; /* Prevents the button from shrinking */
    }
    .copy-btn:active { background-color: #e0e0e0; }
    #status { color: #888; text-align: center; padding-top: 20px; }
  </style>
</head>
<body>
  <h1>Detected Video & Audio Links</h1>
  <div id="controls">
      <button id="clearButton" title="Clear links for this tab">Clear</button>
  </div>
  <div id="links-container"></div>
  <p id="status"></p>

  <script src="popup.js"></script>
</body>
</html>